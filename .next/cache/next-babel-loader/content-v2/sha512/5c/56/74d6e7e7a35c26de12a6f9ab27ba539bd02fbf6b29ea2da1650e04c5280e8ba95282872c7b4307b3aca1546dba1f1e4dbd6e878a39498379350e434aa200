{"ast":null,"code":"import cheerio from 'cheerio';\nimport axios from 'axios';\nexport default (async (req, res) => {\n  const {\n    pathtolyrics\n  } = req.query;\n\n  if (pathtolyrics) {\n    try {\n      const result = await axios(`https://genius.com/${pathtolyrics}`);\n      let $ = cheerio.load(result.data, {\n        xml: {\n          normalizeWhitespace: true\n        }\n      });\n      $ = cheerio.load($('.lyrics  > p').html());\n      console.log($.root().text());\n      return res.json({\n        lyrics: `${$('.lyrics  > p').text()}`\n      });\n    } catch (e) {\n      return res.json({\n        error: e\n      });\n    }\n  }\n\n  res.json({\n    error: \"Error: you need to give a path\"\n  });\n});","map":{"version":3,"sources":["C:/Users/User/Desktop/projects/sing-along/pages/api/lyrics/[pathtolyrics].js"],"names":["cheerio","axios","req","res","pathtolyrics","query","result","$","load","data","xml","normalizeWhitespace","html","console","log","root","text","json","lyrics","e","error"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,SAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,gBAAe,OAAOC,GAAP,EAAWC,GAAX,KAAiB;AAC5B,QAAM;AAACC,IAAAA;AAAD,MAAeF,GAAG,CAACG,KAAzB;;AACD,MAAGD,YAAH,EAAgB;AAEf,QAAG;AACD,YAAME,MAAM,GAAC,MAAML,KAAK,CAAE,sBAAqBG,YAAa,EAApC,CAAxB;AACA,UAAIG,CAAC,GAAGP,OAAO,CAACQ,IAAR,CAAaF,MAAM,CAACG,IAApB,EAA0B;AAChCC,QAAAA,GAAG,EAAE;AACHC,UAAAA,mBAAmB,EAAE;AADlB;AAD2B,OAA1B,CAAR;AAKAJ,MAAAA,CAAC,GAACP,OAAO,CAACQ,IAAR,CAAaD,CAAC,CAAC,cAAD,CAAD,CAAkBK,IAAlB,EAAb,CAAF;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYP,CAAC,CAACQ,IAAF,GAASC,IAAT,EAAZ;AACD,aAAOb,GAAG,CAACc,IAAJ,CAAS;AACbC,QAAAA,MAAM,EAAE,GAAEX,CAAC,CAAC,cAAD,CAAD,CAAkBS,IAAlB,EAAyB;AADtB,OAAT,CAAP;AAGA,KAZD,CAaA,OAAMG,CAAN,EAAQ;AACR,aAAQhB,GAAG,CAACc,IAAJ,CAAS;AACfG,QAAAA,KAAK,EAACD;AADS,OAAT,CAAR;AAIC;AACD;;AACAhB,EAAAA,GAAG,CAACc,IAAJ,CAAS;AAACG,IAAAA,KAAK,EAAC;AAAP,GAAT;AAEH,CA1BD","sourcesContent":["import cheerio from 'cheerio';\r\nimport axios from 'axios';\r\n\r\nexport default async (req,res)=>{\r\n    const {pathtolyrics}=req.query;\r\n   if(pathtolyrics){\r\n       \r\n    try{\r\n      const result=await axios(`https://genius.com/${pathtolyrics}`);\r\n      let $ = cheerio.load(result.data, {\r\n        xml: {\r\n          normalizeWhitespace: true,\r\n        },\r\n      });\r\n      $=cheerio.load($('.lyrics  > p').html())\r\n      console.log($.root().text())\r\n     return res.json({\r\n        lyrics:`${$('.lyrics  > p').text()}`\r\n      })\r\n    }\r\n    catch(e){\r\n    return  res.json({\r\n      error:e\r\n     })\r\n      \r\n    }\r\n   }\r\n    res.json({error:\"Error: you need to give a path\"})\r\n    \r\n}\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}