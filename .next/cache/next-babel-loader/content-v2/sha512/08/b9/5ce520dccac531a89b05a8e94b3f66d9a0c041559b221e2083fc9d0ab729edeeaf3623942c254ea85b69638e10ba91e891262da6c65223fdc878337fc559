{"ast":null,"code":"import axios from 'axios';\nimport cheerio from 'cheerio';\nexport async function querySong(q) {\n  const response = await axios(`https://api.genius.com/search?q=${q}`, {\n    headers: {\n      'Authorization': `Bearer ${process.env.ACCESS_TOKEN}`\n    }\n  });\n  return response.data.response.hits;\n}\nexport async function getLyrics(path) {\n  const result = await axios(`https://genius.com/${path}`);\n  const $ = cheerio.load(result.data, {\n    xml: {\n      normalizeWhitespace: true\n    }\n  });\n  return `${$('.lyrics  > p').text()}`;\n}\nexport async function findSong(id) {\n  try {\n    const response = await axios(`https://api.genius.com/songs/${id}`, {\n      headers: {\n        'Authorization': `Bearer ${process.env.ACCESS_TOKEN}`\n      }\n    });\n    return response.data.response.song;\n  } catch (e) {\n    throw `${e}`;\n  }\n}","map":{"version":3,"sources":["C:/Users/User/Desktop/projects/sing-along/helpers.js"],"names":["axios","cheerio","querySong","q","response","headers","process","env","ACCESS_TOKEN","data","hits","getLyrics","path","result","$","load","xml","normalizeWhitespace","text","findSong","id","song","e"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,SAApB;AACA,OAAO,eAAeC,SAAf,CAAyBC,CAAzB,EAA2B;AAE9B,QAAMC,QAAQ,GAAE,MAAMJ,KAAK,CAAE,mCAAkCG,CAAE,EAAtC,EAAwC;AAC/DE,IAAAA,OAAO,EAAC;AACJ,uBAAiB,UAASC,OAAO,CAACC,GAAR,CAAYC,YAAa;AAD/C;AADuD,GAAxC,CAA3B;AAKA,SAAOJ,QAAQ,CAACK,IAAT,CAAcL,QAAd,CAAuBM,IAA9B;AAEH;AAED,OAAO,eAAeC,SAAf,CAAyBC,IAAzB,EAA8B;AAE7B,QAAMC,MAAM,GAAC,MAAMb,KAAK,CAAE,sBAAqBY,IAAK,EAA5B,CAAxB;AACA,QAAME,CAAC,GAAGb,OAAO,CAACc,IAAR,CAAaF,MAAM,CAACJ,IAApB,EAA0B;AAClCO,IAAAA,GAAG,EAAE;AACHC,MAAAA,mBAAmB,EAAE;AADlB;AAD6B,GAA1B,CAAV;AAUA,SAAQ,GAAEH,CAAC,CAAC,cAAD,CAAD,CAAkBI,IAAlB,EAAyB,EAAnC;AACP;AAED,OAAO,eAAeC,QAAf,CAAwBC,EAAxB,EAA2B;AAC/B,MAAG;AACF,UAAMhB,QAAQ,GAAE,MAAMJ,KAAK,CAAE,gCAA+BoB,EAAG,EAApC,EAAsC;AAC7Df,MAAAA,OAAO,EAAC;AACJ,yBAAiB,UAASC,OAAO,CAACC,GAAR,CAAYC,YAAa;AAD/C;AADqD,KAAtC,CAA3B;AAKA,WAAOJ,QAAQ,CAACK,IAAT,CAAcL,QAAd,CAAuBiB,IAA9B;AACA,GAPD,CAQA,OAAMC,CAAN,EAAQ;AACJ,UAAO,GAAEA,CAAE,EAAX;AACH;AACH","sourcesContent":["import axios from 'axios';\r\nimport cheerio from 'cheerio';\r\nexport async function querySong(q){\r\n\r\n    const response= await axios(`https://api.genius.com/search?q=${q}`,{\r\n        headers:{\r\n            'Authorization':`Bearer ${process.env.ACCESS_TOKEN}`\r\n        }\r\n    }); \r\n    return response.data.response.hits;\r\n\r\n}\r\n\r\nexport async function getLyrics(path){\r\n  \r\n        const result=await axios(`https://genius.com/${path}`);\r\n        const $ = cheerio.load(result.data, {\r\n          xml: {\r\n            normalizeWhitespace: true,\r\n          }\r\n        });\r\n      \r\n       \r\n      \r\n      \r\n     \r\n        return `${$('.lyrics  > p').text()}`;\r\n}\r\n\r\nexport async function findSong(id){\r\n   try{\r\n    const response= await axios(`https://api.genius.com/songs/${id}`,{\r\n        headers:{\r\n            'Authorization':`Bearer ${process.env.ACCESS_TOKEN}`\r\n        }\r\n    });\r\n    return response.data.response.song;\r\n   }\r\n   catch(e){\r\n       throw `${e}`;\r\n   }\r\n}"]},"metadata":{},"sourceType":"module"}